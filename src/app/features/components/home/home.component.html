<div class="container mx-auto">
  <app-slider-cat [Categories]="allCategories"></app-slider-cat>



    <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only ">Search</label>
    <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
        </div>
        <input [(ngModel)]="searchValue" type="search" id="default-search" class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg  focus:ring-green-500 focus:border-green-500 " placeholder="Search Mockups, Logos..." required />
        <button type="submit" class="text-white absolute end-2.5 bottom-2.5 bg-green-600  hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-2 ">Search</button>
    </div>




<div class="grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 gap-4 mt-20">
  @for (product of allProduct|search:searchValue; track $index) {
    <div class="group rounded-lg border border-transparent transition-all duration-300 hover:border-green-600 mr-10 ml-10">
      <!-- <span>id:{{product.id.slice(0,5)}}</span> -->
      <img class="h-auto max-w-full rounded-lg" [routerLink]="['/s-product', product._id]"  [src]="product.imageCover" alt="">
      <div class="card-body text-center">
        <h5>{{ product.category.name }}</h5>
        <h4 class="text-xl font-semibold tracking-tight text-green-600 dark:text-white">
          {{ product.title }}
        </h4>
        <span class="text-3xl font-bold text-gray-900 dark:text-white">
          {{ product.price }} LE
        </span>
        <div class="flex items-center mt-2.5 mb-5 justify-between">
          <span class="text-black text-xs font-semibold px-2 py-0.5 rounded-sm dark:bg-blue-200 dark:text-blue-800 ms-3">
            {{ product.ratingsAverage }}
            <i class="fa-solid fa-star text-yellow-300"></i>
          </span>
          <button (click)="addToWishlist(product)" class="focus:outline-none hover:text-green-600">
            <i class="fa-solid fa-heart text-2xl mr-2 cursor-pointer"
            [style.color]="product['inWishlist'] ? 'green' : 'inherit'">
            </i>
          </button>
        </div>

        <button type="button" (click)="addToCart(product._id)"
          class="invisible opacity-0 group-hover:visible group-hover:opacity-100 transition ease-in-out duration-300
                 focus:outline-none text-white bg-green-600 hover:bg-transparent hover:text-green-600  hover:border-green-600 hover:border-2 focus:ring-4 focus:ring-green-300
                 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">
          Add to cart
        </button>
      </div>
    </div>

  } @empty {<app-loder></app-loder>}
</div>
</div>
