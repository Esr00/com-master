<!-- email -->

<div class="min-h-screen bg-gray-100 flex items-center justify-center">
  <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 max-w-md w-full">
      <h1 class="text-center text-2xl font-bold mb-6">Forgot Password</h1>
@if (step==0) {

      <form [formGroup]="forgetPasswordForm" (ngSubmit)="form1()">
        <div class="mb-5">
          <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your Email</label>
          <input formControlName="email" type="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ">

          @if (resetPasswordForm.get('email')?.touched && resetPasswordForm.get('email')?.hasError('email')) {
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 " role="alert">
              <div>
               pleas enter your correct email
              </div>
            </div>}

            @if ( forgetPasswordForm.get('email')?.touched && forgetPasswordForm.get('email')?.hasError('required')) {
              <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 " role="alert">
                <div>
                 pleas enter your email
                </div>
              </div>}
            </div>
            <div>

              @if (loading) { <button type="submit"
              class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ">
            <i class="fa-spin fas fa-spinner"></i>
             </button>
            }@else {<button type="submit"
            class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ">
            enter your email
            </button>}
          
            </div>
      </form>
    }@else if (step==1) {

<!-- password -->
<form [formGroup]="verifyResetCode" (ngSubmit)="form2()">

              <div class="mb-5">
                <label for="password" class="block mb-2 text-sm font-medium text-gray-900 ">resetCode</label>
                <input formControlName="resetCode" type="password" id="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  ">

                @if ( resetPasswordForm.get('resetCode')?.touched &&  resetPasswordForm.get('resetCode')?.hasError('required')) {
                  <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 " role="alert">
                    <div>
                      resetCode
                    </div>
                  </div>}
</div>
<div>

  @if (loading) { <button type="submit"
  class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
<i class="fa-spin fas fa-spinner"></i>
 </button>
}@else {<button type="submit"
class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
resetCode
</button>}
</div>
      </form>}@else {

<!-- form  -->
  <form [formGroup]="resetPasswordForm" (ngSubmit)="form3()">
          <div class="mb-5">
            <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your Email</label>
            <input formControlName="email" type="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ">

            @if (resetPasswordForm.get('email')?.touched && resetPasswordForm.get('email')?.hasError('email')) {
              <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800" role="alert">
                <div>
                 pleas enter your correct email
                </div>
              </div>}

              @if ( forgetPasswordForm.get('email')?.touched && forgetPasswordForm.get('email')?.hasError('required')) {
                <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 " role="alert">
                  <div>
                   pleas enter your email
                  </div>
                </div>}

                <div class="mb-5">
                  <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">new Password</label>
                  <input formControlName="newPassword" type="password" id="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ">

                  @if ( resetPasswordForm.get('newPassword')?.touched &&  resetPasswordForm.get('newPassword')?.hasError('required')) {
                    <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 " role="alert">
                      <div>
                       pleas enter your new password
                      </div>
                    </div>}
              </div>

              </div>
              <div>

                @if (loading) { <button type="submit"
                class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ">
              <i class="fa-spin fas fa-spinner"></i>
               </button>
              }@else {<button type="submit"
              class="text-white mt-5 bg-green-600 border-2 border-green-600 hover:bg-transparent hover:text-green-600 hover:border-green-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center ">
              enter your new password
              </button>}

              </div>
        </form>}
    </div>
</div>
